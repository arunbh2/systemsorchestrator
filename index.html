<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Systems Orchestration Fundamentals</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2a3990;
            --secondary: #5643cc;
            --accent: #ff7e5f;
            --accent-light: #feb47b;
            --light: #f8f9fa;
            --dark: #212529;
            --gray-100: #f8f9fa;
            --gray-200: #e9ecef;
            --gray-300: #dee2e6;
            --gray-400: #ced4da;
            --gray-500: #adb5bd;
            --gray-600: #6c757d;
            --gray-700: #495057;
            --gray-800: #343a40;
            --gray-900: #212529;
            --success: #28a745;
            --info: #17a2b8;
            --warning: #ffc107;
            --danger: #dc3545;
            --transition-speed-fast: 0.2s;
            --transition-speed-medium: 0.3s;
            --transition-speed-slow: 0.5s;
            --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--dark);
            background-color: var(--light);
            line-height: 1.6;
            overflow-x: hidden;
            scroll-behavior: smooth;
            position: relative;
        }

        h1, h2, h3, h4, h5 {
            font-family: 'Playfair Display', serif;
            font-weight: 600;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1.5rem;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        h2 {
            font-size: 2rem;
            color: var(--primary);
            margin-top: 2rem;
        }

        h3 {
            font-size: 1.5rem;
            color: var(--secondary);
        }

        p {
            margin-bottom: 1rem;
        }

        a {
            color: var(--secondary);
            text-decoration: none;
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent);
        }

        ul, ol {
            margin: 1rem 0;
            padding-left: 1.5rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        /* Network Visualization */
        #network-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: -1;
            opacity: 0.1;
            transition: opacity 0.5s var(--transition-timing);
        }

        #network-container.active {
            opacity: 0.2;
        }

        /* Header */
        header {
            background-color: rgba(255, 255, 255, 0.95);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            transition: all 0.3s var(--transition-timing);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            font-family: 'Playfair Display', serif;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--primary);
        }

        .logo-icon {
            margin-right: 0.5rem;
            font-size: 1.8rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }

        .nav-links a {
            color: var(--gray-700);
            font-weight: 500;
            position: relative;
            padding: 0.5rem 0;
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            transition: width var(--transition-speed-medium) var(--transition-timing);
        }

        .nav-links a:hover {
            color: var(--primary);
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }

        .mobile-nav-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--primary);
        }

        /* Main Content */
        main {
            padding-top: 80px;
        }

        section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 4rem 0;
            position: relative;
            overflow: hidden;
        }

        section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(86, 67, 204, 0.05) 0%, rgba(255, 126, 95, 0.05) 100%);
            z-index: -1;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .section-intro {
            font-size: 1.25rem;
            color: var(--gray-700);
            max-width: 800px;
            margin: 0 auto 3rem auto;
            text-align: center;
        }

        /* Cards and Content Blocks */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            transition: transform var(--transition-speed-medium) var(--transition-timing), 
                        box-shadow var(--transition-speed-medium) var(--transition-timing);
            position: relative;
            overflow: hidden;
            will-change: transform, opacity;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary), var(--accent));
        }

        .card-title {
            font-size: 1.25rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .content-block {
            margin-bottom: 3rem;
            position: relative;
        }

        /* Framework Explorer */
        .framework-explorer {
            margin: 3rem 0;
        }

        .framework-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            scrollbar-width: thin;
            scrollbar-color: var(--gray-400) var(--gray-200);
        }

        .framework-tabs::-webkit-scrollbar {
            height: 6px;
        }

        .framework-tabs::-webkit-scrollbar-track {
            background: var(--gray-200);
            border-radius: 10px;
        }

        .framework-tabs::-webkit-scrollbar-thumb {
            background-color: var(--gray-400);
            border-radius: 10px;
        }

        .framework-tab {
            padding: 0.75rem 1.5rem;
            background-color: var(--gray-200);
            border-radius: 30px;
            cursor: pointer;
            transition: all var(--transition-speed-medium) var(--transition-timing);
            white-space: nowrap;
            user-select: none;
        }

        .framework-tab:hover {
            background-color: var(--gray-300);
        }

        .framework-tab.active {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
        }

        .framework-content {
            padding: 2rem;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            display: none;
        }

        .framework-content.active {
            display: block;
            animation: fadeIn var(--transition-speed-medium) var(--transition-timing);
        }

        /* Interactive Diagrams */
        .interactive-diagram {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 2rem;
            margin: 2rem 0;
            position: relative;
        }

        .diagram-container {
            width: 100%;
            height: 400px;
            position: relative;
        }

        .diagram-tooltip {
            position: absolute;
            background-color: white;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
            padding: 0.75rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity var(--transition-speed-medium) var(--transition-timing);
            max-width: 250px;
            z-index: 10;
            line-height: 1.4;
        }

        /* Case Studies Section */
        .case-study {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 2rem;
            margin-bottom: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity var(--transition-speed-medium) var(--transition-timing), 
                         transform var(--transition-speed-medium) var(--transition-timing);
            will-change: transform, opacity;
        }

        .case-study.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .case-study-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .case-study-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .case-study-meta {
            color: var(--gray-600);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .case-study-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .case-study-tag {
            background-color: var(--gray-200);
            padding: 0.25rem 0.75rem;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 500;
        }

        /* Diagnostic Tool */
        .diagnostic-tool {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 2rem;
            margin: 2rem 0;
        }

        .tool-section {
            margin-bottom: 2rem;
        }

        .question-block {
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .option input[type="radio"] {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid var(--gray-400);
            border-radius: 50%;
            transition: border-color var(--transition-speed-fast) var(--transition-timing);
            position: relative;
        }

        .option input[type="radio"]:checked {
            border-color: var(--primary);
        }

        .option input[type="radio"]:checked::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
        }

        .option input[type="radio"]:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .option label {
            cursor: pointer;
        }

        .tool-button {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all var(--transition-speed-medium) var(--transition-timing);
            font-weight: 500;
        }

        .tool-button:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateY(-2px);
        }

        .tool-button:focus {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        .results-container {
            display: none;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--gray-300);
        }

        .results-chart {
            height: 300px;
            margin-bottom: 2rem;
        }

        .results-summary {
            padding: 1.5rem;
            background-color: var(--gray-100);
            border-radius: 8px;
            margin-bottom: 1.5rem;
        }

        /* Expandable Sections */
        .expandable {
            margin-bottom: 1.5rem;
        }

        .expandable-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--gray-100);
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color var(--transition-speed-medium) var(--transition-timing);
        }

        .expandable-header:hover {
            background-color: var(--gray-200);
        }

        .expandable-title {
            font-weight: 500;
            margin: 0;
            user-select: none;
        }

        .expandable-icon {
            transition: transform var(--transition-speed-medium) var(--transition-timing);
            user-select: none;
        }

        .expandable.open .expandable-icon {
            transform: rotate(180deg);
        }

        .expandable-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--transition-speed-slow) var(--transition-timing);
        }

        .expandable.open .expandable-content {
            max-height: 1000px;
        }

        .expandable-body {
            padding: 1rem;
            background-color: white;
            border: 1px solid var(--gray-200);
            border-top: none;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }

        /* Comparison Tables */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            border-radius: 8px;
            overflow: hidden;
        }

        .comparison-table th {
            background-color: var(--primary);
            color: white;
            padding: 0.75rem 1rem;
            text-align: left;
        }

        .comparison-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--gray-300);
        }

        .comparison-table tr:nth-child(even) {
            background-color: var(--gray-100);
        }

        .comparison-table .highlight {
            background-color: rgba(255, 126, 95, 0.1);
        }

        /* Feature Cards */
        .feature-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .feature-card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            transition: transform var(--transition-speed-medium) var(--transition-timing), 
                        box-shadow var(--transition-speed-medium) var(--transition-timing);
            will-change: transform, opacity;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.12);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .feature-title {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        /* Error Message */
        .error-message {
            padding: 2rem;
            text-align: center;
            background-color: var(--gray-100);
            border-radius: 8px;
            margin: 1rem 0;
        }

        .retry-button {
            display: inline-block;
            margin-top: 1rem;
            padding: 0.5rem 1rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .retry-button:hover {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transform: translateY(-2px);
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Toggle Button for Network */
        .viz-toggle {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: transform var(--transition-speed-medium) var(--transition-timing), 
                        box-shadow var(--transition-speed-medium) var(--transition-timing);
        }

        .viz-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.25);
        }

        .viz-toggle:focus {
            outline: 2px solid white;
            outline-offset: 2px;
        }

        /* Skip link for accessibility */
        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary);
            color: white;
            padding: 8px 16px;
            z-index: 1001;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            color: var(--light);
            padding: 3rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            gap: 2rem;
        }

        .footer-info {
            flex: 1;
            min-width: 250px;
        }

        .footer-title {
            color: white;
            margin-bottom: 1rem;
            position: relative;
            display: inline-block;
        }

        .footer-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 40px;
            height: 2px;
            background: linear-gradient(90deg, var(--accent), var(--accent-light));
        }

        .footer-links {
            list-style: none;
            padding-left: 0;
        }

        .footer-links li {
            margin-bottom: 0.5rem;
        }

        .footer-links a {
            color: var(--gray-400);
            transition: color var(--transition-speed-medium) var(--transition-timing);
        }

        .footer-links a:hover {
            color: var(--accent);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 2rem;
            margin-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray-500);
        }

        /* New Animation Classes */
        .animate-fade-in {
            animation: fadeIn 0.7s ease-in-out forwards;
        }

        .animate-slide-up {
            animation: slideUp 0.7s ease-out forwards;
        }

        .animate-pulse {
            animation: pulse 1.5s ease-in-out infinite;
        }

        .animate-delay-1 { animation-delay: 0.1s; }
        .animate-delay-2 { animation-delay: 0.2s; }
        .animate-delay-3 { animation-delay: 0.3s; }
        .animate-delay-4 { animation-delay: 0.4s; }
        .animate-delay-5 { animation-delay: 0.5s; }

        /* Loading Indicator */
        .loading-indicator {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: rgba(255, 255, 255, 0.8);
            z-index: 5;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--gray-300);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 1rem;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes slideUp {
            from {
                transform: translateY(30px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Pathway diagram specific styles */
        .phase-circle {
            cursor: pointer;
            transition: r 0.3s ease, fill 0.3s ease;
        }

        .phase-label {
            pointer-events: none;
            font-weight: 500;
        }

        /* Orchestration diagram specific styles */
        .stakeholder circle {
            cursor: pointer;
            transition: r 0.3s ease, fill 0.3s ease;
        }

        .connection {
            transition: stroke 0.3s ease, stroke-width 0.3s ease, stroke-dasharray 0.3s ease;
        }

        .function-text {
            cursor: pointer;
            transition: font-size 0.3s ease, fill 0.3s ease, font-weight 0.3s ease;
        }

        /* Contribution diagram specific styles */
        .contribution-arrow {
            transition: stroke-dashoffset 1.5s linear;
        }

        .contribution-box rect {
            cursor: pointer;
            transition: opacity 0.3s ease;
        }

        /* Animation for calculate button */
        .tool-button.calculating {
            position: relative;
            overflow: hidden;
            pointer-events: none;
        }

        .tool-button.calculating::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(255, 255, 255, 0.3),
                transparent
            );
            animation: loadingShimmer 1.5s infinite;
        }

        .tool-button.ready {
            box-shadow: 0 0 8px 2px rgba(86, 67, 204, 0.4);
        }

        @keyframes loadingShimmer {
            100% {
                left: 100%;
            }
        }

        /* Responsive */
        @media (max-width: 992px) {
            .header-container {
                padding: 1rem;
            }

            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                right: 0;
                background: white;
                box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
                padding: 1rem 2rem;
                gap: 1rem;
                width: 100%;
                max-width: 300px;
                border-radius: 0 0 8px 8px;
                z-index: 1000;
            }

            .nav-links.active {
                display: flex;
            }

            .mobile-nav-toggle {
                display: block;
            }
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.5rem;
            }

            .section-intro {
                font-size: 1rem;
            }

            .cards-grid {
                grid-template-columns: 1fr;
            }

            .framework-explorer {
                overflow-x: auto;
            }
            
            .diagram-container {
                height: 300px; /* Reduced height for mobile */
            }

            .feature-cards {
                gap: 1.5rem;
            }

            .comparison-table {
                font-size: 0.9rem;
            }

            .comparison-table th,
            .comparison-table td {
                padding: 0.5rem 0.75rem;
            }
        }

        @media (max-width: 576px) {
            .header-container {
                padding: 0.75rem;
            }

            .logo {
                font-size: 1.25rem;
            }

            section {
                padding: 2rem 0;
            }

            .section-title {
                margin-bottom: 2rem;
            }

            .feature-cards {
                grid-template-columns: 1fr;
            }
            
           .diagram-container {
                height: 250px; /* Further reduced height for smaller devices */
            }

            .case-study,
            .interactive-diagram,
            .diagnostic-tool {
                padding: 1.25rem;
            }

            .comparison-table {
                font-size: 0.8rem;
                display: block;
                overflow-x: auto;
            }

            .expandable-title {
                font-size: 1rem;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .card:hover,
            .feature-card:hover,
            .tool-button:hover,
            .viz-toggle:hover {
                transform: none;
            }
        }

        /* SR-only class for screen reader text */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        /* Touch device optimizations */
        .touch-device .card:hover,
        .touch-device .feature-card:hover {
            transform: none;
        }

        .touch-device .touch-active {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.12);
        }

        /* Button click effect */
        .clicked {
            transform: scale(0.97);
            transition: transform 0.1s ease;
        }

        /* Table responsiveness */
        .table-responsive {
            overflow-x: auto;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div id="network-container" aria-hidden="true"></div>

    <button class="viz-toggle" id="viz-toggle" aria-label="Toggle network visualization" aria-pressed="false">
        <span>⟁</span>
    </button>

    <header>
        <div class="header-container container">
            <div class="logo">
                <span class="logo-icon" aria-hidden="true">⟁</span>
                <span>Systems Orchestration</span>
            </div>
            <nav>
                <ul class="nav-links" id="nav-links">
                    <li><a href="#intro" class="nav-item active">Introduction</a></li>
                    <li><a href="#core-concepts" class="nav-item">Core Concepts</a></li>
                    <li><a href="#frameworks" class="nav-item">Frameworks</a></li>
                    <li><a href="#implementation" class="nav-item">Implementation</a></li>
                    <li><a href="#evaluation" class="nav-item">Evaluation</a></li>
                    <li><a href="#case-studies" class="nav-item">Case Studies</a></li>
                    <li><a href="#diagnostic" class="nav-item">Diagnostic Tool</a></li>
                </ul>
                <button class="mobile-nav-toggle" id="mobile-nav-toggle" aria-label="Toggle navigation menu" aria-expanded="false">☰</button>
            </nav>
        </div>
    </header>

    <main id="main-content">
        <section id="intro">
            <div class="container">
                <h1 class="section-title">Understanding Systems Orchestration</h1>
                <p class="section-intro">Systems orchestration refers to the strategic coordination of diverse actors and resources to achieve transformative, system-wide change. Rather than implementing solutions directly, a systems orchestrator acts as the "connective tissue" holding together parts of a system.</p>

                <div class="content-block">
                    <h2>What is Systems Orchestration?</h2>
                    <p>Many organizations claim to work at a systems level, but true orchestration requires specific knowledge, methodologies, and strategic thinking. Systems orchestrators identify shared goals, align activities, and mobilize collective action across organizations and sectors.</p>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-1">
                            <h3 class="expandable-title">Different names, similar concept</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-1">
                            <div class="expandable-body">
                                <p>This role has been described with various terms in literature: the Skoll Foundation calls these actors "system orchestrators," while Bridgespan uses "field catalysts" to emphasize their behind-the-scenes influence.</p>
                                <p>Regardless of name, orchestrators are distinguished by their focus on enabling population-level change (not just growing one organization) and by influencing others' actions rather than acting alone. They often work subtly or "invisibly," avoiding the spotlight so as not to compete with frontline actors.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-block">
                    <h2>Core Characteristics of Orchestrators</h2>
                    <p>Effective systems orchestrators exhibit a humbly collaborative leadership style. They "park their egos" and facilitate cooperation among stakeholders to tackle massive problems collectively.</p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">★</div>
                            <h3 class="feature-title">Collective Impact Focus</h3>
                            <p>They help coalitions achieve more together than any single entity could accomplish alone.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">🔗</div>
                            <h3 class="feature-title">Bridge-Building</h3>
                            <p>They empower and enable other leaders by sharing power, fostering trust, and elevating marginalized voices.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">🧰</div>
                            <h3 class="feature-title">Multiple Tools</h3>
                            <p>They deploy various approaches from convening dialogues to influencing policy and funding flows.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">✓</div>
                            <h3 class="feature-title">High Credibility</h3>
                            <p>They develop trust with stakeholders to coordinate effectively across public, private, and civil society boundaries.</p>
                        </div>
                    </div>
                </div>

                <div class="content-block">
                    <h2>Orchestration vs. Other Change Approaches</h2>
                    <div class="table-responsive">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Approach</th>
                                    <th>Focus</th>
                                    <th>Role</th>
                                    <th>Timeframe</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="highlight">
                                    <td><strong>Systems Orchestration</strong></td>
                                    <td>Shaping the entire ecosystem beyond any one initiative</td>
                                    <td>"Knitting together" existing efforts and filling gaps</td>
                                    <td>Long-term systemic change</td>
                                </tr>
                                <tr>
                                    <td>Collective Impact</td>
                                    <td>Multi-sector partnership toward common agenda</td>
                                    <td>Backbone organization providing structure</td>
                                    <td>Initiative-specific timeline</td>
                                </tr>
                                <tr>
                                    <td>Program Implementation</td>
                                    <td>Delivering specific services or solutions</td>
                                    <td>Direct intervention provider</td>
                                    <td>Program lifecycle</td>
                                </tr>
                                <tr>
                                    <td>Consensus Building</td>
                                    <td>Creating shared understanding</td>
                                    <td>Forum facilitator or mediator</td>
                                    <td>Often time-limited forums</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="content-block">
                    <h2>Theoretical Foundations</h2>
                    <p>Several theoretical frameworks underpin the practice of orchestration:</p>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <h3 class="card-title">Systems-of-Systems Thinking</h3>
                            <p>How independent components can be guided to function coherently as a unified whole, much like orchestrating open platforms versus closed hierarchies.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Orchestration Theory</h3>
                            <p>How institutions lacking direct authority enlist intermediaries through soft means to achieve governance goals – essentially a "soft power" approach of convening and persuading.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Field-Building Frameworks</h3>
                            <p>Elements like shared identity, knowledge base, standards, and supportive policies as pillars of a robust field that orchestrators work to strengthen.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="core-concepts">
            <div class="container">
                <h1 class="section-title">Core Systems Thinking & Orchestration Concepts</h1>
                <p class="section-intro">Systems Orchestration is fundamentally about coordinating and enabling change across complex, multi-actor systems rather than delivering solutions directly.</p>

                <div class="content-block">
                    <h2>Systems Thinking Foundations</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <h3 class="card-title">Complex Adaptive Systems (CAS)</h3>
                            <p>Systems are dynamic and unpredictable; change happens in non-linear ways. Traditional planning approaches often fail in such environments.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Leverage Points</h3>
                            <p>Change is most effective when targeting key intervention points within a system (e.g., shifting incentives, influencing power structures, changing information flows).</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Systemic Feedback Loops</h3>
                            <p>Identifying reinforcing (amplifying) and balancing (stabilizing) feedback loops to sustain systemic change and understand system behavior.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Emergent Strategy</h3>
                            <p>Recognizing that predefined blueprints fail in complex systems, requiring adaptive, iterative learning and co-creation approaches.</p>
                        </div>
                    </div>
                </div>

                <div class="content-block">
                    <h2>System Orchestrator-Specific Concepts</h2>
                    
                    <div class="interactive-diagram">
                        <h3>Key Elements of Orchestration</h3>
                        <div class="diagram-container" id="orchestration-diagram">
                            <!-- D3.js visualization will be inserted here -->
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-2">
                            <h3 class="expandable-title">Backbone Organization</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-2">
                            <div class="expandable-body">
                                <p>A coordinating entity that provides structure, resources, and neutral facilitation without controlling the system. The backbone supports the collaborative process by guiding vision and strategy, supporting aligned activities, establishing shared measurement, building public will, advancing policy, and mobilizing resources.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-3">
                            <h3 class="expandable-title">Field Catalyst Approach</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-3">
                            <div class="expandable-body">
                                <p>Orchestrators act as catalysts, accelerating progress by creating alignment between actors, rather than imposing solutions. They bring together different organizations to tackle complex problems with systems-level strategies, focusing on field-level outcomes rather than organizational growth.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-4">
                            <h3 class="expandable-title">Distributed Leadership</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-4">
                            <div class="expandable-body">
                                <p>No single actor owns the change; orchestrators help coordinate collective action across multiple stakeholders. This approach recognizes that complex challenges require many leaders contributing different skills, resources, and perspectives.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-5">
                            <h3 class="expandable-title">System Mapping & Network Analysis</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-5">
                            <div class="expandable-body">
                                <p>Techniques like stakeholder network mapping, causal loop diagrams, and power mapping help visualize how different system actors interact. These tools reveal relationships, power dynamics, and resource flows that might otherwise remain hidden, enabling more strategic orchestration.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="frameworks">
            <div class="container">
                <h1 class="section-title">Practical Approaches & Frameworks</h1>
                <p class="section-intro">To operate effectively as a systems orchestrator, you must be familiar with proven frameworks that have been used in systems orchestration.</p>
                
                <div class="framework-explorer">
                    <div class="framework-tabs" role="tablist">
                        <div class="framework-tab active" data-framework="msd" role="tab" aria-selected="true" aria-controls="msd-content" id="msd-tab">Market Systems Development</div>
                        <div class="framework-tab" data-framework="collective-impact" role="tab" aria-selected="false" aria-controls="collective-impact-content" id="collective-impact-tab">Collective Impact</div>
                        <div class="framework-tab" data-framework="theory-u" role="tab" aria-selected="false" aria-controls="theory-u-content" id="theory-u-tab">Theory U</div>
                    </div>
                    
                    <div class="framework-content active" id="msd-content" role="tabpanel" aria-labelledby="msd-tab">
                        <h2>Market Systems Development (MSD) / Making Markets Work for the Poor (M4P)</h2>
                        <p>Helps orchestrators work with private sector, government, and communities to create market-driven solutions.</p>
                        
                        <h3>Key principles:</h3>
                        <ul>
                            <li><strong>Facilitate rather than directly intervene</strong> - Support market actors to perform their roles better rather than replacing them.</li>
                            <li><strong>Strengthen incentives for system actors</strong> - Focus on changing motivations rather than providing services.</li>
                            <li><strong>Measure systemic change</strong> - Look for shifts in business models, new policies, and other system-level indicators.</li>
                        </ul>
                        
                        <div class="interactive-diagram">
                            <h3>MSD Framework Visualization</h3>
                            <div class="diagram-container" id="msd-diagram">
                                <!-- D3.js visualization will be inserted here -->
                            </div>
                        </div>
                        
                        <p><strong>Relevance to Practice:</strong> When working at intersections like agriculture-energy, applying market system facilitation will be key in engaging private sector actors for sustained impact.</p>
                    </div>
                    
                    <div class="framework-content" id="collective-impact-content" role="tabpanel" aria-labelledby="collective-impact-tab" aria-hidden="true">
                        <h2>Collective Impact (FSG)</h2>
                        <p>Provides a framework for cross-sector collaboration around a shared agenda to solve systemic issues.</p>
                        
                        <h3>Key conditions for success:</h3>
                        <ol>
                            <li><strong>Common Agenda</strong> – Aligning on a shared problem statement and vision for change.</li>
                            <li><strong>Shared Measurement Systems</strong> – Defining success metrics across multiple partners.</li>
                            <li><strong>Mutually Reinforcing Activities</strong> – Partners contribute based on their unique strengths.</li>
                            <li><strong>Continuous Communication</strong> – Regular feedback loops and transparent information sharing.</li>
                            <li><strong>Backbone Support Organization</strong> – A neutral coordinating body (orchestrator) that supports the entire initiative.</li>
                        </ol>
                        
                        <div class="interactive-diagram">
                            <h3>Collective Impact Model</h3>
                            <div class="diagram-container" id="collective-impact-diagram">
                                <!-- D3.js visualization will be inserted here -->
                            </div>
                        </div>
                        
                        <p><strong>Relevance to Practice:</strong> For funders expecting long-term, system-wide collaboration, using Collective Impact principles makes engagement more structured and credible.</p>
                    </div>
                    
                    <div class="framework-content" id="theory-u-content" role="tabpanel" aria-labelledby="theory-u-tab" aria-hidden="true">
                        <h2>Theory U (Otto Scharmer, MIT Presencing Institute)</h2>
                        <p>Guides organizations in orchestrating deep system transformation through co-sensing and co-creating solutions.</p>
                        
                        <h3>Key process:</h3>
                        <ol>
                            <li><strong>Co-Initiating:</strong> Convene diverse stakeholders and build common intent.</li>
                            <li><strong>Co-Sensing:</strong> Observe patterns, power structures, and system behaviors.</li>
                            <li><strong>Presencing:</strong> Pause, reflect, and unlearn outdated approaches.</li>
                            <li><strong>Co-Creating:</strong> Prototype innovative solutions with actors.</li>
                            <li><strong>Co-Evolving:</strong> Scale and embed systemic solutions.</li>
                        </ol>
                        
                        <div class="interactive-diagram">
                            <h3>Theory U Process</h3>
                            <div class="diagram-container" id="theory-u-diagram">
                                <!-- D3.js visualization will be inserted here -->
                            </div>
                        </div>
                        
                        <p><strong>Relevance to Practice:</strong> If you aim to facilitate deep systemic shifts, Theory U offers a structured process for co-creation and adaptation.</p>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Language & Technical Phrasing</h2>
                    <p>If we're serious about system orchestration, we need to adopt the right technical language. Here's how we should frame our work:</p>
                    
                    <div class="table-responsive">
                        <table class="comparison-table">
                            <thead>
                                <tr>
                                    <th>Don't say</th>
                                    <th>Say instead</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>"We deliver projects that create impact."</td>
                                    <td>"We facilitate multi-stakeholder collaboration to drive systemic impact at scale."</td>
                                </tr>
                                <tr>
                                    <td>"We train farmers and introduce clean energy solutions."</td>
                                    <td>"We enable market and policy shifts that integrate clean energy into agricultural value chains, ensuring long-term sustainability."</td>
                                </tr>
                                <tr>
                                    <td>"We partner with organizations to implement change."</td>
                                    <td>"We act as a field catalyst, convening and aligning diverse stakeholders to create lasting transformation."</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>

        <section id="implementation">
            <div class="container">
                <h1 class="section-title">Practical Implementation Dynamics</h1>
                <p class="section-intro">Implementing systems orchestration involves a deliberate sequence of actions and continuous adaptation to changing contexts.</p>
                
                <div class="content-block">
                    <h2>Developing a Systems Orchestration Role</h2>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-6">
                            <h3 class="expandable-title">System Mapping & Stakeholder Analysis</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-6">
                            <div class="expandable-body">
                                <p>Thoroughly understanding the landscape – who are the key players (government agencies, companies, NGOs, community groups, funders), what are their interests and capacities, how do resources and information flow, and where are the leverage points for change.</p>
                                <p>For example, an orchestrator focusing on the agriculture-energy nexus would map relationships between the energy ministry's rural electrification plans, agricultural extension services, private solar irrigation firms, farmer cooperatives, finance institutions, etc.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-7">
                            <h3 class="expandable-title">Building the Coalition</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-7">
                            <div class="expandable-body">
                                <p>The orchestrator convenes a core group of willing stakeholders to co-create a shared vision and agenda for change. This might involve facilitated workshops or dialogues to agree on the joint problem definition and a set of high-level goals.</p>
                                <p>Effective orchestrators often use skilled facilitation and inclusive practices at this stage, ensuring that even traditionally marginalized voices are heard in shaping the vision. The initial coalition is typically kept relatively small but representative to maintain focus and trust.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-8">
                            <h3 class="expandable-title">Coordinating Strategy and Action</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-8">
                            <div class="expandable-body">
                                <p>With a coalition and common agenda in place, the orchestrator helps coordinate strategy and action across the network. This is the backbone function in practice: guiding participating organizations to align their activities with the shared goals, broker partnerships, and facilitating continuous communication.</p>
                                <p>A useful approach is developing a "roadmap" or theory of change for the system, outlining how different contributions fit together to drive systemic outcomes. Orchestrators often establish multi-stakeholder working groups focused on key leverage areas.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Common Challenges in Orchestration Efforts</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <h3 class="card-title">Maintaining Alignment</h3>
                            <p>As contexts change or some initiatives succeed/fail, partners can lose focus or diverge. The orchestrator must keep the group oriented to the ultimate systemic goal while refreshing strategies as needed.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Managing Conflict</h3>
                            <p>With diverse stakeholders, disagreements are inevitable. Orchestrators often need to play the role of an honest broker or mediator, addressing tensions through dialogue or negotiation.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Resource Pressures</h3>
                            <p>Balancing the pressure to deliver quick results with the reality that systems change is a long-term, non-linear process. Orchestrators must communicate short-term wins and intermediate outcomes effectively.</p>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Power Asymmetries</h3>
                            <p>When large power differences exist among stakeholders, collaboration can be skewed or mistrustful. Orchestrators must recognize and address these imbalances.</p>
                        </div>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Developmental Pathway for Orchestration</h2>
                    
                    <div class="interactive-diagram">
                        <h3>Orchestration Development Process</h3>
                        <div class="diagram-container" id="pathway-diagram">
                            <!-- D3.js visualization will be inserted here -->
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-9">
                            <h3 class="expandable-title">Phase 1: Initiation & Coalition Building</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-9">
                            <div class="expandable-body">
                                <p>Using the diagnostic, identify gaps to address first. Likely activities: stakeholder outreach, trust building, creating governance structures, and articulating the systemic change vision and strategy.</p>
                                <p>Success looks like: diverse buy-in, a clear value proposition for all, and initial quick win projects identified.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-10">
                            <h3 class="expandable-title">Phase 2: Orchestration in Action</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-10">
                            <div class="expandable-body">
                                <p>Launch coordinated initiatives as per the shared plan. The orchestrator coordinates without necessarily implementing directly. Establish information-sharing systems and maintain momentum through regular check-ins. Manage conflicts or issues as they arise.</p>
                                <p>In this phase, the orchestrator's role is akin to project manager for the coalition – ensuring timelines, synergies, and communications.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-11">
                            <h3 class="expandable-title">Phase 3: Expansion, Scaling and Institutionalization</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-11">
                            <div class="expandable-body">
                                <p>Based on early successes and learning, scale up the approach. This could mean bringing in new partners, mainstreaming changes, and ensuring the system can sustain the collaboration.</p>
                                <p>The orchestrator might help institutionalize a permanent multi-stakeholder platform or hand over leadership to a stable entity. In scaling, knowledge sharing beyond the initial geography is key.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-12">
                            <h3 class="expandable-title">Phase 4: Graduation or Evolution</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-12">
                            <div class="expandable-body">
                                <p>In a mature state, the orchestrator might step back to a lighter-touch role if the system is self-organizing improvements (the ideal "sunset" scenario for an orchestrator is that their function is internalized by the system).</p>
                                <p>Alternatively, the orchestrator role might evolve to target a new challenge or to address emerging issues in the system, entering another cycle of adaptation.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Technology and Data Platforms</h2>
                    <p>Technology can be a powerful enabler of orchestration in practice:</p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">💬</div>
                            <h3 class="feature-title">Communication Tools</h3>
                            <p>Digital platforms allow geographically dispersed stakeholders to stay connected and coordinate in real time.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">📊</div>
                           <h3 class="feature-title">Data Dashboards</h3>
                            <p>Integrating data from different sources provides a "single source of truth" that all stakeholders can use for planning.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">📱</div>
                            <h3 class="feature-title">Mobile Feedback</h3>
                            <p>Simple mobile surveys or applications can feed real-time information to track changes in the system.</p>
                        </div>
                    </div>
                    
                    <p class="note">However, orchestrators must ensure technology is accessible and user-friendly for all participants, and guard against an over-reliance on tech at the expense of human relationships.</p>
                </div>
            </div>
        </section>

        <section id="evaluation">
            <div class="container">
                <h1 class="section-title">Measurement and Evaluation of Orchestration Efforts</h1>
                <p class="section-intro">Evaluating systems orchestration is complex – traditional linear metrics don't fully capture the systemic changes orchestrators seek.</p>
                
                <div class="content-block">
                    <h2>Metrics and Frameworks for Evaluation</h2>
                    
                    <div class="cards-grid">
                        <div class="card">
                            <h3 class="card-title">Process Metrics</h3>
                            <ul>
                                <li>Number and diversity of stakeholders engaged</li>
                                <li>Frequency and quality of collaboration</li>
                                <li>Network density or connectivity measures</li>
                                <li>Milestones in collective action</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Systems-Level Outcomes</h3>
                            <ul>
                                <li>Policy changes adopted</li>
                                <li>Changes in institutional behavior</li>
                                <li>Scaling or spread of innovations</li>
                                <li>Shifts in narratives or mindsets</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Qualitative Measures</h3>
                            <ul>
                                <li>Network mapping to see new linkages</li>
                                <li>Case studies of system changes</li>
                                <li>Outcome harvesting methods</li>
                                <li>Stakeholder perception surveys</li>
                            </ul>
                        </div>
                        <div class="card">
                            <h3 class="card-title">Quantitative Indicators</h3>
                            <ul>
                                <li>Percentage changes in key metrics</li>
                                <li>Resources mobilized or aligned</li>
                                <li>Adoption rates of innovations</li>
                                <li>Coverage of interventions</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Attribution vs Contribution</h2>
                    <p>A well-known challenge in evaluating orchestration is attribution. Because orchestrators work through many actors and interventions, isolating "this outcome happened because of our orchestration" is difficult.</p>
                    
                    <div class="interactive-diagram">
                        <h3>Contribution Analysis Framework</h3>
                        <div class="diagram-container" id="contribution-diagram">
                            <!-- D3.js visualization will be inserted here -->
                        </div>
                    </div>
                    
                    <p>The emphasis shifts to assessing contribution – did the orchestrated efforts contribute significantly to observed changes, and how? One way to handle this is through contribution analysis, building a plausible narrative with evidence linking activities to outcomes and examining alternative explanations.</p>
                    
                    <p>Some initiatives use indicator baskets at multiple levels:</p>
                    <ul>
                        <li><strong>Short-term:</strong> "X stakeholders have formally signed on to the common agenda"</li>
                        <li><strong>Mid-term:</strong> "A new cross-sector data system is in use; Y number of joint projects launched"</li>
                        <li><strong>Long-term:</strong> "Reduction in diesel generator use by farms by Z% contributing to lower emissions, while farm incomes increased"</li>
                    </ul>
                </div>
                
                <div class="content-block">
                    <h2>Evaluation Framework Examples</h2>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-13">
                            <h3 class="expandable-title">Collective Impact Evaluation Framework</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-13">
                            <div class="expandable-body">
                                <p>This framework recommends tracking the five conditions of collective impact:</p>
                                <ol>
                                    <li>Common agenda</li>
                                    <li>Shared measurement</li>
                                    <li>Mutually reinforcing activities</li>
                                    <li>Continuous communication</li>
                                    <li>Backbone support effectiveness</li>
                                </ol>
                                <p>Each of these can be evaluated with specific metrics or rubrics (e.g., rating the clarity of the common agenda, or surveying stakeholders on backbone facilitation quality).</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-14">
                            <h3 class="expandable-title">Equitable Evaluation Framework (EEF)</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-14">
                            <div class="expandable-body">
                                <p>This approach advocates assessing how the work is done (ensuring equity and inclusiveness in the process) in addition to what is accomplished. It focuses on:</p>
                                <ul>
                                    <li>Evaluation should be in service of equity</li>
                                    <li>Evaluative work should be designed and implemented commensurate with the values underlying equity work</li>
                                    <li>Evaluative work should answer critical questions about the advancement of equity</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="expandable">
                        <div class="expandable-header" role="button" aria-expanded="false" aria-controls="expandable-15">
                            <h3 class="expandable-title">Developmental Evaluation</h3>
                            <div class="expandable-icon" aria-hidden="true">▼</div>
                        </div>
                        <div class="expandable-content" id="expandable-15">
                            <div class="expandable-body">
                                <p>This is a method where an evaluator is part of the team, helping adapt metrics as the project evolves and capturing real-time learning. It's particularly suited to complex, emergent work where:</p>
                                <ul>
                                    <li>The path to success is not clear at the outset</li>
                                    <li>The context is complex and changing</li>
                                    <li>Innovation and adaptation are priorities</li>
                                    <li>Learning needs to happen in real-time</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Balancing Accountability with Complexity</h2>
                    <p>Donors and participants will rightly ask for accountability – to know resources and efforts are yielding impact. Yet, orchestrators have to educate stakeholders that a rigid log-frame with predefined quantitative targets may be unrealistic in a complex systems-change scenario.</p>
                    
                    <p>A balance can be achieved by:</p>
                    <ul>
                        <li>Agreeing on learning outcomes and milestones rather than just fixed targets</li>
                        <li>Using participatory monitoring and evaluation (M&E), involving stakeholders in defining success</li>
                        <li>Creating formal and informal loops for reflection (after-action reviews, learning summits)</li>
                        <li>Producing annual learning reports that candidly discuss challenges and adaptations</li>
                        <li>Looking at "constellations of efforts" as the unit of analysis (instead of single projects)</li>
                    </ul>
                </div>
                
                <div class="content-block">
                    <h2>Learning Mechanisms</h2>
                    <p>Continuous learning should be embedded in good orchestration M&E. This means creating formal and informal loops for reflection:</p>
                    
                    <div class="feature-cards">
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">🔄</div>
                            <h3 class="feature-title">Learning Cycles</h3>
                            <p>After-action reviews, periodic "learning summits," or joint evaluation teams can analyze what's working or not.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">📑</div>
                            <h3 class="feature-title">Documentation</h3>
                            <p>Produce annual learning reports that candidly discuss challenges, surprises, and adaptations – not just successes.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">🔍</div>
                            <h3 class="feature-title">Forward-Looking</h3>
                            <p>Insights should feed into refining the orchestration strategy. If a stakeholder group is lagging, adjust the engagement approach.</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon" aria-hidden="true">📚</div>
                            <h3 class="feature-title">Knowledge Products</h3>
                            <p>Learning can produce toolkits, case studies, and policy briefs that improve the initiative and contribute to global best practices.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="case-studies">
            <div class="container">
                <h1 class="section-title">Case Study Snapshots of Systems Orchestration</h1>
                <p class="section-intro">To ground the concepts in reality, here are brief examples of systems orchestration from different sectors and geographies.</p>
                
                <div class="content-block">
                    <div class="case-study visible" id="case-study-1" data-index="0">
                        <div class="case-study-header">
                            <h2 class="case-study-title">EYElliance – Vision Care Coalition</h2>
                            <div class="case-study-meta">Global Health/Education Sector</div>
                        </div>
                        <div class="case-study-tags">
                            <span class="case-study-tag">Independent NGO Coalition</span>
                            <span class="case-study-tag">Global</span>
                            <span class="case-study-tag">Health</span>
                        </div>
                        <p>EYElliance brings together NGOs, governments (Ministries of Health/Education), and private companies (eyewear industry) to address the massive gap in access to eyeglasses in low-income countries.</p>
                        <p>Instead of scaling a single program, it coordinates system-wide change – influencing public policy (getting eye care into school health programs), unlocking financing (with development banks for eye care initiatives), catalyzing partnerships (e.g., between governments and NGOs to deliver school screenings), and global advocacy (raising priority of vision in global forums).</p>
                        <h3>Key Lessons:</h3>
                        <ul>
                            <li><strong>High-level advocacy combined with on-ground pilots</strong> – EYElliance showed that orchestrators must operate from community to global level, translating grassroots evidence into policy shifts.</li>
                            <li><strong>Measure success via relationships and policy changes</strong>, not just service delivery metrics.</li>
                            <li><strong>Mutually reinforcing strategies</strong> (financing, government delivery, partnerships, advocacy), illustrating that orchestrators often juggle multiple roles simultaneously for impact.</li>
                        </ul>
                    </div>
                    
                    <div class="case-study" id="case-study-2" data-index="1">
                        <div class="case-study-header">
                            <h2 class="case-study-title">Crisis Action – Collective Advocacy to Prevent Conflict</h2>
                            <div class="case-study-meta">Global/Africa Peace and Human Rights</div>
                        </div>
                        <div class="case-study-tags">
                            <span class="case-study-tag">Independent NGO</span>
                            <span class="case-study-tag">Global</span>
                            <span class="case-study-tag">Peace</span>
                        </div>
                        <p>Crisis Action works behind the scenes to coordinate coalitions of civil society organizations (human rights groups, humanitarian NGOs, faith leaders, even businesses) to protect civilians in conflict zones. It does not campaign under its own name; rather it facilitates joint campaigns among others, ensuring they speak with one voice to governments or the UN.</p>
                        <h3>Key Lessons:</h3>
                        <ul>
                            <li><strong>Neutral backbone and trust:</strong> Crisis Action's neutrality and sole focus on convening allowed NGOs with different agendas to collaborate.</li>
                            <li>They demonstrated that <strong>"parking egos" is possible</strong> when a trusted orchestrator ensures everyone gets credit and impact is maximized instead of individual visibility.</li>
                            <li><strong>Importance of agility</strong> – Crisis Action can rapidly convene a response within 24-48 hours when a crisis erupts, a speed made possible by pre-built relationships and clear process.</li>
                        </ul>
                    </div>
                    
                    <div class="case-study" id="case-study-3" data-index="2">
                        <div class="case-study-header">
                            <h2 class="case-study-title">Strive Partnership – Education Outcomes in Cincinnati</h2>
                            <div class="case-study-meta">USA Education Sector</div>
                        </div>
                        <div class="case-study-tags">
                            <span class="case-study-tag">Place-based Backbone</span>
                            <span class="case-study-tag">USA</span>
                            <span class="case-study-tag">Education</span>
                        </div>
                        <p>Strive Partnership in Cincinnati was one of the pioneering collective impact backbones, aligning dozens of education-focused organizations around improving student success "from cradle to career." It established a structured network with a common agenda and shared metrics for things like kindergarten readiness and college enrollment.</p>
                        <h3>Key Lessons:</h3>
                        <ul>
                            <li><strong>Structured governance and data-sharing:</strong> Strive's working groups and cross-sector councils provided a template for how to organize a complex collaboration.</li>
                            <li>They invested in <strong>data systems to track indicators</strong> across schools and programs, illustrating the power of shared measurement to keep partners accountable and learning.</li>
                            <li>Over time, Strive showed that a <strong>backbone must evolve</strong> – they had to adjust working group focus as priorities changed and ensure equity became more central in later years.</li>
                        </ul>
                    </div>
                    
                    <div class="case-study" id="case-study-4" data-index="3">
                        <div class="case-study-header">
                            <h2 class="case-study-title">Freedom to Marry – Marriage Equality Movement</h2>
                            <div class="case-study-meta">USA Social Justice (LGBT rights)</div>
                        </div>
                        <div class="case-study-tags">
                            <span class="case-study-tag">Time-bound Campaign</span>
                            <span class="case-study-tag">USA</span>
                            <span class="case-study-tag">Social Justice</span>
                        </div>
                        <p>Freedom to Marry acted as a field catalyst in the U.S. marriage equality movement. When it expanded its scope nationally in 2010, it did not deliver services but coordinated legal strategies, public messaging, and state-level campaigns across many organizations to drive a tipping point in public opinion and law. It deliberately sunset once the goal (national legalization of same-sex marriage) was achieved in 2015.</p>
                        <h3>Key Lessons:</h3>
                        <ul>
                            <li><strong>Clarity of goal and urgency:</strong> A singular focus ("win marriage nationwide") helped align funders and activists.</li>
                            <li><strong>Influencing through others:</strong> Freedom to Marry provided framing, research, and connections that empowered state organizations to succeed, exemplifying an orchestrator that "focused on getting things done, not on building consensus" endlessly.</li>
                            <li>It also embraced an <strong>endgame mentality</strong> ("built to win, not to last"), meaning it prioritized catalytic action over organizational growth.</li>
                        </ul>
                    </div>
                    
                    <div class="case-study" id="case-study-5" data-index="4">
                        <div class="case-study-header">
                            <h2 class="case-study-title">Sustainable Energy for All (SEforALL) – UN-Led Global Platform</h2>
                            <div class="case-study-meta">Global Energy Access & Sustainability</div>
                        </div>
                        <div class="case-study-tags">
                            <span class="case-study-tag">Multi-stakeholder Platform</span>
                            <span class="case-study-tag">Global</span>
                            <span class="case-study-tag">Energy</span>
                        </div>
                        <p>Launched in 2011, SEforALL was a unique global orchestration effort to achieve universal energy access (SDG7) by 2030. It brought together governments, private sector, and civil society under a common framework, mobilizing commitments (like billion-dollar investments, policy pledges), and tracking progress globally.</p>
                        <h3>Key Lessons:</h3>
                        <ul>
                            <li><strong>High-level convening needs grassroots linkage:</strong> While SEforALL garnered political commitments, one critique was ensuring those translate to on-the-ground change. It highlights that orchestrators must link global ambition to local implementation.</li>
                            <li><strong>Use of data and transparency:</strong> They created the Global Tracking Framework for energy, showing how orchestration can include setting up shared data metrics to hold everyone accountable.</li>
                            <li>SEforALL's evolution to an independent organization outside the UN demonstrated the <strong>importance of a neutral identity</strong> to broaden ownership.</li>
                        </ul>
                    </div>
                </div>
                
                <div class="content-block">
                    <h2>Common Principles Across Case Studies</h2>
                    <ul>
                        <li>The importance of trust and neutrality</li>
                        <li>Having a clear but flexible game plan</li>
                        <li>The role of data and shared measures</li>
                        <li>Inclusive engagement of diverse stakeholders</li>
                        <li>Persistence and adaptation over time</li>
                    </ul>
                    <p>These cases show that orchestrators can operate at different scales – from global to local – but their role as a "bridge-builder" and "catalyst" remains consistent.</p>
                </div>
            </div>
        </section>

        <section id="diagnostic">
            <div class="container">
                <h1 class="section-title">System Readiness Diagnostic Tool</h1>
                <p class="section-intro">Before launching orchestration, it's important to assess if a system is "ready" – or what needs to be strengthened. This diagnostic tool helps evaluate readiness across key dimensions.</p>
                
                <div class="diagnostic-tool" id="diagnostic-tool">
                    <h2>System Readiness Assessment</h2>
                    <p>Rate each area on a scale of 1-5 to understand your system's readiness for orchestration.</p>
                    
                    <form id="diagnostic-form">
                        <div class="tool-section">
                            <h3>1. Stakeholder Cohesion</h3>
                            <div class="question-block">
                                <p class="question-text">Are key stakeholders aware of the systemic problem and generally willing to collaborate?</p>
                                <div class="options">
                                    <div class="option">
                                        <input type="radio" name="stakeholder-cohesion" id="sc1" value="1">
                                        <label for="sc1">1 - Very low (High mistrust, no history of collaboration)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="stakeholder-cohesion" id="sc2" value="2">
                                        <label for="sc2">2 - Low (Some awareness, but reluctance to collaborate)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="stakeholder-cohesion" id="sc3" value="3">
                                        <label for="sc3">3 - Medium (Basic awareness, occasional collaboration)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="stakeholder-cohesion" id="sc4" value="4">
                                        <label for="sc4">4 - High (Good awareness, willingness to collaborate)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="stakeholder-cohesion" id="sc5" value="5">
                                        <label for="sc5">5 - Very high (Strong awareness, active collaboration)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h3>2. Shared Vision and Urgency</h3>
                            <div class="question-block">
                                <p class="question-text">Is there a sense of urgency or a window of opportunity that can galvanize action?</p>
                                <div class="options">
                                    <div class="option">
                                        <input type="radio" name="vision-urgency" id="vu1" value="1">
                                        <label for="vu1">1 - Very low (No urgency, disparate visions)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="vision-urgency" id="vu2" value="2">
                                        <label for="vu2">2 - Low (Limited urgency, conflicting visions)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="vision-urgency" id="vu3" value="3">
                                        <label for="vu3">3 - Medium (Some urgency, partial alignment of visions)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="vision-urgency" id="vu4" value="4">
                                        <label for="vu4">4 - High (Clear urgency, mostly aligned visions)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="vision-urgency" id="vu5" value="5">
                                        <label for="vu5">5 - Very high (Strong urgency, fully aligned visions)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h3>3. Institutional Support</h3>
                            <div class="question-block">
                                <p class="question-text">Are there enabling policies or influential institutions who could be allies?</p>
                                <div class="options">
                                    <div class="option">
                                        <input type="radio" name="institutional-support" id="is1" value="1">
                                        <label for="is1">1 - Very low (Prohibitive policies, no institutional allies)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="institutional-support" id="is2" value="2">
                                        <label for="is2">2 - Low (Few enabling policies, limited institutional interest)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="institutional-support" id="is3" value="3">
                                        <label for="is3">3 - Medium (Some enabling policies, potential institutional allies)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="institutional-support" id="is4" value="4">
                                        <label for="is4">4 - High (Supportive policies, committed institutional allies)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="institutional-support" id="is5" value="5">
                                        <label for="is5">5 - Very high (Strong policy mandates, influential institutional champions)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h3>4. Resource Landscape</h3>
                            <div class="question-block">
                                <p class="question-text">Are resources (funding, knowledge, technology) available or potentially available for this issue?</p>
                                <div class="options">
                                    <div class="option">
                                        <input type="radio" name="resource-landscape" id="rl1" value="1">
                                        <label for="rl1">1 - Very low (Severe resource scarcity)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="resource-landscape" id="rl2" value="2">
                                        <label for="rl2">2 - Low (Limited resources available)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="resource-landscape" id="rl3" value="3">
                                        <label for="rl3">3 - Medium (Some resources available or accessible)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="resource-landscape" id="rl4" value="4">
                                        <label for="rl4">4 - High (Good resource availability)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="resource-landscape" id="rl5" value="5">
                                        <label for="rl5">5 - Very high (Abundant resources available)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h3>5. Barriers and Risks</h3>
                            <div class="question-block">
                                <p class="question-text">How manageable are the anticipated barriers (power dynamics, conflict, past collaboration failures)?</p>
                                <div class="options">
                                   <div class="option">
                                        <input type="radio" name="barriers-risks" id="br3" value="3">
                                        <label for="br3">3 - Moderate (Meaningful barriers but some mitigation possibilities)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="barriers-risks" id="br4" value="4">
                                        <label for="br4">4 - Manageable (Barriers exist but clear mitigation strategies available)</label>
                                    </div>
                                    <div class="option">
                                        <input type="radio" name="barriers-risks" id="br5" value="5">
                                        <label for="br5">5 - Highly manageable (Minimal barriers or strong mitigation approaches)</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <button type="button" id="calculate-results" class="tool-button">Calculate Results</button>
                    </form>
                    
                    <div class="results-container" id="results-container">
                        <h3>Your System Readiness Results</h3>
                        <div class="results-chart" id="results-chart">
                            <!-- Chart will be inserted here -->
                        </div>
                        
                        <div class="results-summary" id="results-summary">
                            <!-- Results summary will be inserted here -->
                        </div>
                        
                        <h3>Recommendations</h3>
                        <div class="recommendations" id="recommendations">
                            <!-- Recommendations will be inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <footer>
            <div class="container">
                <div class="footer-content">
                    <div class="footer-info">
                        <h3 class="footer-title">Systems Orchestration Fundamentals</h3>
                        <p>A comprehensive guide to understanding and implementing systems orchestration approaches for complex, multi-actor challenges.</p>
                    </div>
                    
                    <div class="footer-info">
                        <h3 class="footer-title">Quick Links</h3>
                        <ul class="footer-links">
                            <li><a href="#intro">Introduction</a></li>
                            <li><a href="#core-concepts">Core Concepts</a></li>
                            <li><a href="#frameworks">Frameworks</a></li>
                            <li><a href="#implementation">Implementation</a></li>
                            <li><a href="#evaluation">Evaluation</a></li>
                            <li><a href="#case-studies">Case Studies</a></li>
                            <li><a href="#diagnostic">Diagnostic Tool</a></li>
                        </ul>
                    </div>
                    
                    <div class="footer-info">
                        <h3 class="footer-title">Resources</h3>
                        <ul class="footer-links">
                            <li><a href="https://practicalaction.org/" target="_blank" rel="noopener">Practical Action</a></li>
                            <li><a href="https://skoll.org/" target="_blank" rel="noopener">Skoll Foundation</a></li>
                            <li><a href="https://ssir.org/" target="_blank" rel="noopener">Stanford Social Innovation Review</a></li>
                            <li><a href="https://www.fsg.org/" target="_blank" rel="noopener">FSG</a></li>
                            <li><a href="https://www.presencing.org/" target="_blank" rel="noopener">Presencing Institute</a></li>
                        </ul>
                    </div>
                </div>
                
                <div class="footer-bottom">
                    <p>© 2025 Systems Orchestration Fundamentals</p>
                </div>
            </div>
        </footer>

        <!-- JavaScript Implementation -->
        <script>
        // ========== Main Navigation Functionality ==========
        document.addEventListener('DOMContentLoaded', function() {
            // Mobile navigation toggle
            const mobileNavToggle = document.getElementById('mobile-nav-toggle');
            const navLinks = document.getElementById('nav-links');
            
            if (mobileNavToggle) {
                mobileNavToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                    const expanded = navLinks.classList.contains('active');
                    mobileNavToggle.setAttribute('aria-expanded', expanded);
                });
            }
            
            // Highlight active nav item based on scroll position
            const sections = document.querySelectorAll('section[id]');
            const navItems = document.querySelectorAll('.nav-item');
            
            function highlightNavItem() {
                const scrollY = window.pageYOffset;
                
                sections.forEach(section => {
                    const sectionHeight = section.offsetHeight;
                    const sectionTop = section.offsetTop - 100;
                    const sectionId = section.getAttribute('id');
                    
                    if (scrollY > sectionTop && scrollY <= sectionTop + sectionHeight) {
                        navItems.forEach(item => {
                            item.classList.remove('active');
                            if (item.getAttribute('href') === `#${sectionId}`) {
                                item.classList.add('active');
                            }
                        });
                    }
                });
            }
            
            window.addEventListener('scroll', highlightNavItem);
            
            // Smooth scrolling for nav links
            navItems.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // Close mobile nav if open
                        if (navLinks.classList.contains('active')) {
                            navLinks.classList.remove('active');
                            mobileNavToggle.setAttribute('aria-expanded', false);
                        }
                    }
                });
            });
            
            // ========== Expandable Sections ==========
            const expandables = document.querySelectorAll('.expandable');
            
            expandables.forEach(expandable => {
                const header = expandable.querySelector('.expandable-header');
                const content = expandable.querySelector('.expandable-content');
                
                header.addEventListener('click', function() {
                    expandable.classList.toggle('open');
                    const expanded = expandable.classList.contains('open');
                    header.setAttribute('aria-expanded', expanded);
                    
                    if (expanded) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                    } else {
                        content.style.maxHeight = 0;
                    }
                });
            });
            
            // ========== Framework Tabs ==========
            const frameworkTabs = document.querySelectorAll('.framework-tab');
            const frameworkContents = document.querySelectorAll('.framework-content');
            
            frameworkTabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const framework = this.getAttribute('data-framework');
                    
                    // Update tab states
                    frameworkTabs.forEach(t => {
                        t.classList.remove('active');
                        t.setAttribute('aria-selected', false);
                    });
                    this.classList.add('active');
                    this.setAttribute('aria-selected', true);
                    
                    // Update content visibility
                    frameworkContents.forEach(content => {
                        content.classList.remove('active');
                        content.setAttribute('aria-hidden', true);
                    });
                    
                    const targetContent = document.getElementById(`${framework}-content`);
                    if (targetContent) {
                        targetContent.classList.add('active');
                        targetContent.setAttribute('aria-hidden', false);
                    }
                });
            });
            
            // ========== Case Study Animation ==========
            const caseStudies = document.querySelectorAll('.case-study:not(.visible)');
            
            function revealCaseStudies() {
                caseStudies.forEach(study => {
                    const studyTop = study.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (studyTop < windowHeight - 100) {
                        study.classList.add('visible');
                    }
                });
            }
            
            window.addEventListener('scroll', revealCaseStudies);
            revealCaseStudies(); // Check on initial load
            
            // ========== Diagnostic Tool ==========
            const calculateButton = document.getElementById('calculate-results');
            const resultsContainer = document.getElementById('results-container');
            
            if (calculateButton) {
                calculateButton.addEventListener('click', function() {
                    this.classList.add('calculating');
                    
                    // Simulate processing
                    setTimeout(() => {
                        calculateDiagnosticResults();
                        this.classList.remove('calculating');
                        this.classList.add('ready');
                    }, 1200);
                });
            }
            
            function calculateDiagnosticResults() {
                // Get form values
                const stakeholderCohesion = getSelectedValue('stakeholder-cohesion');
                const visionUrgency = getSelectedValue('vision-urgency');
                const institutionalSupport = getSelectedValue('institutional-support');
                const resourceLandscape = getSelectedValue('resource-landscape');
                const barriersRisks = getSelectedValue('barriers-risks');
                
                if (!stakeholderCohesion || !visionUrgency || !institutionalSupport || 
                    !resourceLandscape || !barriersRisks) {
                    alert('Please complete all sections of the diagnostic assessment.');
                    return;
                }
                
                // Calculate overall score
                const scores = {
                    'stakeholderCohesion': parseInt(stakeholderCohesion),
                    'visionUrgency': parseInt(visionUrgency),
                    'institutionalSupport': parseInt(institutionalSupport),
                    'resourceLandscape': parseInt(resourceLandscape),
                    'barriersRisks': parseInt(barriersRisks)
                };
                
                const overallScore = (scores.stakeholderCohesion + scores.visionUrgency + 
                                     scores.institutionalSupport + scores.resourceLandscape + 
                                     scores.barriersRisks) / 5;
                
                // Generate result summary
                let readinessLevel = 'Low';
                let summaryText = '';
                
                if (overallScore >= 4) {
                    readinessLevel = 'High';
                    summaryText = 'Your system appears to have the key conditions needed for successful orchestration. There is strong stakeholder cohesion, clear urgency, supportive institutional context, sufficient resources, and manageable barriers.';
                } else if (overallScore >= 3) {
                    readinessLevel = 'Medium';
                    summaryText = 'Your system has moderate readiness for orchestration. Some enabling conditions are in place, but others need strengthening before launching a full orchestration initiative.';
                } else {
                    readinessLevel = 'Low';
                    summaryText = 'Your system currently faces significant challenges for orchestration. Considerable groundwork is needed to build the enabling conditions before a systems orchestration approach can succeed.';
                }
                
                // Generate recommendations
                let recommendations = '<ul>';
                
                if (scores.stakeholderCohesion < 3) {
                    recommendations += '<li><strong>Build stakeholder cohesion:</strong> Focus on relationship building and trust development among key actors. Consider starting with smaller collaborative initiatives to demonstrate value.</li>';
                }
                
                if (scores.visionUrgency < 3) {
                    recommendations += '<li><strong>Develop shared vision and urgency:</strong> Conduct stakeholder workshops to align on the problem definition and create a compelling case for change. Use data and stories to highlight the need for action.</li>';
                }
                
                if (scores.institutionalSupport < 3) {
                    recommendations += '<li><strong>Strengthen institutional support:</strong> Identify and engage potential champions within influential institutions. Look for policy windows or reform opportunities to build enabling policy environment.</li>';
                }
                
                if (scores.resourceLandscape < 3) {
                    recommendations += '<li><strong>Improve resource landscape:</strong> Map existing resources and identify potential new sources. Consider a resource mobilization strategy that pools existing assets before seeking external funding.</li>';
                }
                
                if (scores.barriersRisks < 3) {
                    recommendations += '<li><strong>Address barriers and risks:</strong> Develop specific mitigation strategies for the most significant barriers. Consider power-building approaches for less influential stakeholders to balance power dynamics.</li>';
                }
                
                recommendations += '</ul>';
                
                // Display results
                const resultsChart = document.getElementById('results-chart');
                const resultsSummary = document.getElementById('results-summary');
                const recommendationsElement = document.getElementById('recommendations');
                
                resultsSummary.innerHTML = `
                    <h4>Readiness Level: ${readinessLevel} (${overallScore.toFixed(1)}/5)</h4>
                    <p>${summaryText}</p>
                `;
                
                recommendationsElement.innerHTML = recommendations;
                
                // Create radar chart
                createRadarChart(resultsChart, scores);
                
                // Show results
                resultsContainer.style.display = 'block';
                resultsContainer.scrollIntoView({ behavior: 'smooth' });
            }
            
            function getSelectedValue(name) {
                const radios = document.getElementsByName(name);
                for (let i = 0; i < radios.length; i++) {
                    if (radios[i].checked) {
                        return radios[i].value;
                    }
                }
                return null;
            }
            
            function createRadarChart(container, scores) {
                // Clear previous chart
                container.innerHTML = '';
                
                // Set up SVG dimensions
                const width = container.clientWidth;
                const height = 300;
                const centerX = width / 2;
                const centerY = height / 2;
                const radius = Math.min(centerX, centerY) - 40;
                
                // Create SVG element
                const svg = d3.select(container)
                    .append('svg')
                    .attr('width', width)
                    .attr('height', height);
                
                // Define the dimensions
                const dimensions = [
                    { name: 'Stakeholder Cohesion', key: 'stakeholderCohesion' },
                    { name: 'Vision & Urgency', key: 'visionUrgency' },
                    { name: 'Institutional Support', key: 'institutionalSupport' },
                    { name: 'Resource Landscape', key: 'resourceLandscape' },
                    { name: 'Barriers Management', key: 'barriersRisks' }
                ];
                
                const angleSlice = (Math.PI * 2) / dimensions.length;
                
                // Draw background circles
                const levels = 5;
                const levelGroups = svg.append('g')
                    .attr('transform', `translate(${centerX},${centerY})`);
                
                for (let level = 1; level <= levels; level++) {
                    const levelRadius = radius * (level / levels);
                    
                    levelGroups.append('circle')
                        .attr('r', levelRadius)
                        .attr('fill', 'none')
                        .attr('stroke', 'rgba(0,0,0,0.1)')
                        .attr('stroke-width', 1);
                    
                    // Add level numbers at 12 o'clock position
                    if (level % 2 === 0 || level === 5) {
                        levelGroups.append('text')
                            .attr('x', 0)
                            .attr('y', -levelRadius - 5)
                            .attr('text-anchor', 'middle')
                            .attr('font-size', '10px')
                            .attr('fill', 'rgba(0,0,0,0.5)')
                            .text(level);
                    }
                }
                
                // Draw axis lines
                const axisGroups = svg.append('g')
                    .attr('transform', `translate(${centerX},${centerY})`);
                
                dimensions.forEach((dim, i) => {
                    const angle = i * angleSlice;
                    const lineX = radius * Math.sin(angle);
                    const lineY = -radius * Math.cos(angle);
                    
                    axisGroups.append('line')
                        .attr('x1', 0)
                        .attr('y1', 0)
                        .attr('x2', lineX)
                        .attr('y2', lineY)
                        .attr('stroke', 'rgba(0,0,0,0.1)')
                        .attr('stroke-width', 1);
                    
                    // Add axis labels
                    const labelX = (radius + 20) * Math.sin(angle);
                    const labelY = -(radius + 20) * Math.cos(angle);
                    
                    axisGroups.append('text')
                        .attr('x', labelX)
                        .attr('y', labelY)
                        .attr('text-anchor', 'middle')
                        .attr('dominant-baseline', 'middle')
                        .attr('font-size', '12px')
                        .attr('font-weight', '500')
                        .text(dim.name);
                });
                
                // Plot the data
                const dataPoints = dimensions.map((dim, i) => {
                    const angle = i * angleSlice;
                    const value = scores[dim.key];
                    const pointRadius = radius * (value / levels);
                    
                    return {
                        x: pointRadius * Math.sin(angle),
                        y: -pointRadius * Math.cos(angle),
                        value: value
                    };
                });
                
                // Create the polygon
                const pathData = dataPoints.map((point, i) => {
                    return (i === 0 ? 'M' : 'L') + point.x + ',' + point.y;
                }).join(' ') + 'Z';
                
                const dataGroup = svg.append('g')
                    .attr('transform', `translate(${centerX},${centerY})`);
                
                dataGroup.append('path')
                    .attr('d', pathData)
                    .attr('fill', 'rgba(86, 67, 204, 0.3)')
                    .attr('stroke', 'rgba(86, 67, 204, 0.8)')
                    .attr('stroke-width', 2);
                
                // Add data points
                dataPoints.forEach((point, i) => {
                    dataGroup.append('circle')
                        .attr('cx', point.x)
                        .attr('cy', point.y)
                        .attr('r', 5)
                        .attr('fill', 'rgba(86, 67, 204, 1)');
                    
                    dataGroup.append('text')
                        .attr('x', point.x + (point.x > 0 ? 10 : -10))
                        .attr('y', point.y)
                        .attr('text-anchor', point.x > 0 ? 'start' : 'end')
                        .attr('dominant-baseline', 'middle')
                        .attr('font-size', '12px')
                        .attr('font-weight', 'bold')
                        .text(point.value);
                });
            }
        });

        // ========== Network Visualization Background ==========
        function createNetworkVisualization() {
            const container = document.getElementById('network-container');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Generate random nodes
            const nodeCount = 30;
            const nodes = Array.from({ length: nodeCount }, (_, i) => ({
                id: i,
                radius: Math.random() * 3 + 2,
                x: Math.random() * width,
                y: Math.random() * height
            }));
            
            // Generate random links
            const links = [];
            nodes.forEach(source => {
                const linkCount = Math.floor(Math.random() * 3) + 1;
                for (let i = 0; i < linkCount; i++) {
                    const target = nodes[Math.floor(Math.random() * nodeCount)];
                    if (source.id !== target.id) {
                        links.push({ source: source.id, target: target.id });
                    }
                }
            });
            
            // Create the elements
            const link = svg.selectAll('.network-link')
                .data(links)
                .enter().append('line')
                .attr('class', 'network-link')
                .attr('stroke', 'rgba(42, 57, 144, 0.2)')
                .attr('stroke-width', 1);
            
            const node = svg.selectAll('.network-node')
                .data(nodes)
                .enter().append('circle')
                .attr('class', 'network-node')
                .attr('r', d => d.radius)
                .attr('fill', 'rgba(86, 67, 204, 0.5)');
            
            // Set up the simulation
            const simulation = d3.forceSimulation(nodes)
                .force('link', d3.forceLink(links).id(d => d.id).distance(50))
                .force('charge', d3.forceManyBody().strength(-10))
                .force('center', d3.forceCenter(width / 2, height / 2))
                .force('collision', d3.forceCollide().radius(d => d.radius + 2));
            
            // Update positions on each tick
            simulation.on('tick', () => {
                link
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);
                
                node
                    .attr('cx', d => d.x)
                    .attr('cy', d => d.y);
            });
            
            // Toggle network visibility
            const vizToggle = document.getElementById('viz-toggle');
            if (vizToggle) {
                vizToggle.addEventListener('click', function() {
                    container.classList.toggle('active');
                    this.setAttribute('aria-pressed', container.classList.contains('active'));
                });
            }
        }

        // ========== D3.js Visualizations for Diagrams ==========

        // Orchestration Diagram - Core Concepts Section
        function createOrchestrationDiagram() {
            const container = document.getElementById('orchestration-diagram');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Create the tooltip
            const tooltip = d3.select(container)
                .append('div')
                .attr('class', 'diagram-tooltip');
            
            // Define data
            const centralNode = { 
                id: 'orchestrator', 
                label: 'Systems\nOrchestrator', 
                description: 'Coordinates and enables change across the system without controlling it directly.',
                x: width / 2, 
                y: height / 2,
                radius: 50,
                color: 'url(#centralGradient)'
            };
            
            const stakeholders = [
                { 
                    id: 'government', 
                    label: 'Government', 
                    description: 'Policy makers and regulatory bodies that set the rules and incentives.',
                    x: width * 0.2, 
                    y: height * 0.3,
                    radius: 35,
                    color: '#5643cc'
                },
                { 
                    id: 'private', 
                    label: 'Private Sector', 
                    description: 'Businesses that provide products, services, and market solutions.',
                    x: width * 0.8, 
                    y: height * 0.3,
                    radius: 35,
                    color: '#5643cc'
                },
                { 
                    id: 'community', 
                    label: 'Community', 
                    description: 'Local groups, beneficiaries, and those most affected by the issue.',
                    x: width * 0.2, 
                    y: height * 0.7,
                    radius: 35,
                    color: '#5643cc'
                },
                { 
                    id: 'civil', 
                    label: 'Civil Society', 
                    description: 'NGOs, academic institutions, and other non-profit organizations.',
                    x: width * 0.8, 
                    y: height * 0.7,
                    radius: 35,
                    color: '#5643cc'
                }
            ];
            
            const functions = [
                {
                    id: 'convening',
                    label: 'Convening',
                    description: 'Bringing diverse stakeholders together for dialogue and collaboration.',
                    x: width * 0.5,
                    y: height * 0.15
                },
                {
                    id: 'knowledge',
                    label: 'Knowledge Sharing',
                    description: 'Facilitating the exchange of data, evidence, and learning across stakeholders.',
                    x: width * 0.9,
                    y: height * 0.5
                },
                {
                    id: 'alignment',
                    label: 'Strategic Alignment',
                    description: 'Helping stakeholders develop shared vision, goals, and coordinated action.',
                    x: width * 0.5,
                    y: height * 0.85
                },
                {
                    id: 'innovation',
                    label: 'Catalyzing Innovation',
                    description: 'Supporting experimentation and new solution development across the system.',
                    x: width * 0.1,
                    y: height * 0.5
                }
            ];
            
            // Create gradients
            const defs = svg.append('defs');
            
            const centralGradient = defs.append('radialGradient')
                .attr('id', 'centralGradient')
                .attr('cx', '50%')
                .attr('cy', '50%')
                .attr('r', '50%');
            
            centralGradient.append('stop')
                .attr('offset', '0%')
                .attr('stop-color', '#ff7e5f');
                
            centralGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', '#feb47b');
            
            // Draw connections between orchestrator and stakeholders
            stakeholders.forEach(stakeholder => {
                svg.append('line')
                    .attr('class', 'connection')
                    .attr('x1', centralNode.x)
                    .attr('y1', centralNode.y)
                    .attr('x2', stakeholder.x)
                    .attr('y2', stakeholder.y)
                    .attr('stroke', 'rgba(42, 57, 144, 0.3)')
                    .attr('stroke-width', 2);
            });
            
            // Draw stakeholders
            const stakeholderGroups = svg.selectAll('.stakeholder')
                .data(stakeholders)
                .enter()
                .append('g')
                .attr('class', 'stakeholder');
            
            stakeholderGroups.append('circle')
                .attr('cx', d => d.x)
                .attr('cy', d => d.y)
                .attr('r', d => d.radius)
                .attr('fill', d => d.color)
                .attr('opacity', 0.8)
                .on('mouseover', function(event, d) {
                    d3.select(this)
                        .attr('r', d.radius + 5)
                        .attr('opacity', 1);
                        
                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${d.label}</strong><br>${d.description}`)
                        .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                        .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                })
                .on('mouseout', function(event, d) {
                    d3.select(this)
                        .attr('r', d.radius)
                        .attr('opacity', 0.8);
                        
                    tooltip.style('opacity', 0);
                });
            
            stakeholderGroups.append('text')
                .attr('x', d => d.x)
                .attr('y', d => d.y)
                .attr('text-anchor', 'middle')
                .attr('dominant-baseline', 'middle')
                .attr('font-size', '12px')
                .attr('font-weight', '500')
                .attr('fill', 'white')
                .text(d => d.label);
            
            // Draw central orchestrator node
            svg.append('circle')
                .attr('cx', centralNode.x)
                .attr('cy', centralNode.y)
                .attr('r', centralNode.radius)
                .attr('fill', centralNode.color)
                .attr('opacity', 0.9)
                .on('mouseover', function(event) {
                    d3.select(this)
                        .attr('r', centralNode.radius + 5)
                        .attr('opacity', 1);
                        
                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${centralNode.label}</strong><br>${centralNode.description}`)
                        .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                        .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                })
                .on('mouseout', function() {
                    d3.select(this)
                        .attr('r', centralNode.radius)
                        .attr('opacity', 0.9);
                        
                    tooltip.style('opacity', 0);
                });
            
            const centralLabel = centralNode.label.split('\n');
            svg.append('text')
                .attr('x', centralNode.x)
                .attr('y', centralNode.y - 10)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('font-weight', '700')
                .attr('fill', 'white')
                .text(centralLabel[1]);
            
            // Draw function labels
            svg.selectAll('.function-text')
                .data(functions)
                .enter()
                .append('text')
                .attr('class', 'function-text')
                .attr('x', d => d.x)
                .attr('y', d => d.y)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('font-weight', '500')
                .attr('fill', 'var(--primary)')
                .text(d => d.label)
                .on('mouseover', function(event, d) {
                    d3.select(this)
                        .attr('font-size', '16px')
                        .attr('font-weight', '700')
                        .attr('fill', 'var(--accent)');
                        
                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${d.label}</strong><br>${d.description}`)
                        .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                        .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                })
                .on('mouseout', function() {
                    d3.select(this)
                        .attr('font-size', '14px')
                        .attr('font-weight', '500')
                        .attr('fill', 'var(--primary)');
                        
                    tooltip.style('opacity', 0);
                });
        }

        // MSD Framework Diagram
        function createMSDDiagram() {
            const container = document.getElementById('msd-diagram');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Add tooltip
            const tooltip = d3.select(container)
                .append('div')
                .attr('class', 'diagram-tooltip');
            
            // Define data
            const marketSystem = {
                centerX: width / 2,
                centerY: height / 2,
                outerRadius: Math.min(width, height) * 0.4,
                middleRadius: Math.min(width, height) * 0.3,
                innerRadius: Math.min(width, height) * 0.2,
            };
            
            const coreFunctions = [
                { label: 'Demand', description: 'Market demand from buyers, consumers, users' },
                { label: 'Supply', description: 'Market supply from producers, service providers' },
                { label: 'Exchange', description: 'How buyers and sellers interact, transaction mechanisms' }
            ];
            
            const supportFunctions = [
                { label: 'Information', description: 'Market information, knowledge sharing' },
                { label: 'Skills', description: 'Technical and business capabilities of market actors' },
                { label: 'Finance', description: 'Financial services, investment, capital' },
                { label: 'Infrastructure', description: 'Physical and digital infrastructure supporting markets' }
            ];
            
            const rules = [
                { label: 'Formal Rules', description: 'Laws, regulations, standards, policies' },
                { label: 'Informal Rules', description: 'Social norms, customs, traditions, relationships' }
            ];
            
            // Create gradients
            const defs = svg.append('defs');
            
            const outerGradient = defs.append('radialGradient')
                .attr('id', 'outerGradient')
                .attr('cx', '50%')
                .attr('cy', '50%')
                .attr('r', '50%');
            
            outerGradient.append('stop')
                .attr('offset', '70%')
                .attr('stop-color', 'rgba(42, 57, 144, 0.1)');
                
            outerGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', 'rgba(42, 57, 144, 0.3)');
            
            const middleGradient = defs.append('radialGradient')
                .attr('id', 'middleGradient')
                .attr('cx', '50%')
                .attr('cy', '50%')
                .attr('r', '50%');
            
            middleGradient.append('stop')
                .attr('offset', '70%')
                .attr('stop-color', 'rgba(86, 67, 204, 0.2)');
                
            middleGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', 'rgba(86, 67, 204, 0.4)');
            
            const innerGradient = defs.append('radialGradient')
                .attr('id', 'innerGradient')
                .attr('cx', '50%')
                .attr('cy', '50%')
                .attr('r', '50%');
            
            innerGradient.append('stop')
                .attr('offset', '70%')
                .attr('stop-color', 'rgba(255, 126, 95, 0.3)');
                
            innerGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', 'rgba(255, 126, 95, 0.6)');
            
            // Draw the circles
            svg.append('circle')
                .attr('cx', marketSystem.centerX)
                .attr('cy', marketSystem.centerY)
                .attr('r', marketSystem.outerRadius)
                .attr('fill', 'url(#outerGradient)')
                .attr('stroke', 'rgba(42, 57, 144, 0.5)')
                .attr('stroke-width', 2);
            
            svg.append('circle')
                .attr('cx', marketSystem.centerX)
                .attr('cy', marketSystem.centerY)
                .attr('r', marketSystem.middleRadius)
                .attr('fill', 'url(#middleGradient)')
                .attr('stroke', 'rgba(86, 67, 204, 0.5)')
                .attr('stroke-width', 2);
            
            svg.append('circle')
                .attr('cx', marketSystem.centerX)
                .attr('cy', marketSystem.centerY)
                .attr('r', marketSystem.innerRadius)
                .attr('fill', 'url(#innerGradient)')
                .attr('stroke', 'rgba(255, 126, 95, 0.7)')
                .attr('stroke-width', 2);
            
            // Add labels for the circles
            svg.append('text')
                .attr('x', marketSystem.centerX)
                .attr('y', marketSystem.centerY - marketSystem.innerRadius / 2)
                .attr('text-anchor', 'middle')
                .attr('font-weight', '700')
                .attr('font-size', '14px')
                .attr('fill', 'var(--dark)')
                .text('Core');
            
            svg.append('text')
                .attr('x', marketSystem.centerX)
                .attr('y', marketSystem.centerY - (marketSystem.middleRadius + marketSystem.innerRadius) / 2)
                .attr('text-anchor', 'middle')
                .attr('font-weight', '700')
                .attr('font-size', '14px')
                .attr('fill', 'var(--primary)')
                .text('Supporting Functions');
            
            svg.append('text')
                .attr('x', marketSystem.centerX)
                .attr('y', marketSystem.centerY - (marketSystem.outerRadius + marketSystem.middleRadius) / 2)
                .attr('text-anchor', 'middle')
                .attr('font-weight', '700')
                .attr('font-size', '14px')
                .attr('fill', 'var(--primary)')
                .text('Rules & Norms');
            
            // Position and draw core function labels
            const coreAngle = (2 * Math.PI) / coreFunctions.length;
            
            coreFunctions.forEach((func, i) => {
                const angle = i * coreAngle;
                const x = marketSystem.centerX + Math.cos(angle) * (marketSystem.innerRadius * 0.6);
                const y = marketSystem.centerY + Math.sin(angle) * (marketSystem.innerRadius * 0.6);
                
                const textElement = svg.append('text')
                    .attr('x', x)
                    .attr('y', y)
                    .attr('text-anchor', 'middle')
                    .attr('dominant-baseline', 'middle')
                    .attr('font-size', '12px')
                    .attr('font-weight', '700')
                    .attr('fill', 'rgba(0, 0, 0, 0.8)')
                    .text(func.label)
                    .on('mouseover', function(event) {
                        d3.select(this)
                            .attr('font-size', '14px')
                            .attr('fill', 'var(--accent)');
                            
                        tooltip
                            .style('opacity', 1)
                            .html(`<strong>${func.label}</strong><br>${func.description}`)
                            .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                            .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                    })
                    .on('mouseout', function() {
                        d3.select(this)
                            .attr('font-size', '12px')
                            .attr('fill', 'rgba(0, 0, 0, 0.8)');
                            
                        tooltip.style('opacity', 0);
                    });
            });
            
            // Position and draw supporting function labels
            const supportAngle = (2 * Math.PI) / supportFunctions.length;
            
            supportFunctions.forEach((func, i) => {
                const angle = i * supportAngle;
                const x = marketSystem.centerX + Math.cos(angle) * (marketSystem.middleRadius * 0.75);
                const y = marketSystem.centerY + Math.sin(angle) * (marketSystem.middleRadius * 0.75);
                
                svg.append('text')
                    .attr('x', x)
                    .attr('y', y)
                    .attr('text-anchor', 'middle')
                    .attr('dominant-baseline', 'middle')
                    .attr('font-size', '12px')
                    .attr('font-weight', '500')
                    .attr('fill', 'var(--primary)')
                    .text(func.label)
                    .on('mouseover', function(event) {
                        d3.select(this)
                            .attr('font-size', '14px')
                            .attr('fill', 'var(--accent)');
                            
                        tooltip
                            .style('opacity', 1)
                            .html(`<strong>${func.label}</strong><br>${func.description}`)
                            .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                            .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                    })
                    .on('mouseout', function() {
                        d3.select(this)
                            .attr('font-size', '12px')
                            .attr('fill', 'var(--primary)');
                            
                        tooltip.style('opacity', 0);
                    });
            });
            
            // Position and draw rules labels
            const rulesAngle = Math.PI;
            
            rules.forEach((rule, i) => {
                const angle = i * rulesAngle;
                const x = marketSystem.centerX + Math.cos(angle) * (marketSystem.outerRadius * 0.85);
                const y = marketSystem.centerY + Math.sin(angle) * (marketSystem.outerRadius * 0.85);
                
                svg.append('text')
                    .attr('x', x)
                    .attr('y', y)
                    .attr('text-anchor', 'middle')
                    .attr('dominant-baseline', 'middle')
                    .attr('font-size', '12px')
                    .attr('font-weight', '500')
                    .attr('fill', 'var(--primary)')
                    .text(rule.label)
                    .on('mouseover', function(event) {
                        d3.select(this)
                            .attr('font-size', '14px')
                            .attr('fill', 'var(--accent)');
                            
                        tooltip
                            .style('opacity', 1)
                            .html(`<strong>${rule.label}</strong><br>${rule.description}`)
                            .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                            .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                    })
                    .on('mouseout', function() {
                        d3.select(this)
                            .attr('font-size', '12px')
                            .attr('fill', 'var(--primary)');
                            
                        tooltip.style('opacity', 0);
                    });
            });
            
            // Add orchestrator role label
            svg.append('text')
                .attr('x', marketSystem.centerX)
                .attr('y', marketSystem.centerY + marketSystem.outerRadius + 30)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('font-weight', '700')
                .attr('fill', 'var(--secondary)')
                .text('Orchestrator: Facilitate Market System Change, Don\'t Replace Market Functions');
        }

        // Collective Impact Diagram
        function createCollectiveImpactDiagram() {
            const container = document.getElementById('collective-impact-diagram');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Add tooltip
            const tooltip = d3.select(container)
                .append('div')
                .attr('class', 'diagram-tooltip');
            
            // Data
            const conditions = [
                {
                    name: 'Common Agenda',
                    description: 'All participants share a vision for change that includes a common understanding of the problem and joint approach to solving it.',
                    x: width * 0.5,
                    y: height * 0.15,
                    color: '#5643cc'
                },
                {
                    name: 'Shared Measurement',
                    description: 'All participants agree on how to measure and report success, with a short list of common indicators identified and used for learning and improvement.',
                    x: width * 0.8,
                    y: height * 0.35,
                    color: '#5643cc'
                },
                {
                    name: 'Mutually Reinforcing Activities',
                    description: 'Each participant undertakes specific activities in which it excels in a way that supports and coordinates with the actions of others.',
                    x: width * 0.8,
                    y: height * 0.65,
                    color: '#5643cc'
                },
                {
                    name: 'Continuous Communication',
                    description: 'All participants engage in frequent, structured communication to build trust, assure mutual objectives, and create common motivation.',
                    x: width * 0.5,
                    y: height * 0.85,
                    color: '#5643cc'
                },
                {
                    name: 'Backbone Support',
                    description: 'A dedicated staff with specific skills serves the entire initiative and coordinates participating organizations and agencies.',
                    x: width * 0.2,
                    y: height * 0.65,
                    color: '#5643cc'
                }
            ];
            
            const centerX = width * 0.5;
            const centerY = height * 0.5;
            const centerRadius = 70;
            
            // Draw the connectors
            conditions.forEach(condition => {
                svg.append('line')
                    .attr('x1', centerX)
                    .attr('y1', centerY)
                    .attr('x2', condition.x)
                    .attr('y2', condition.y)
                    .attr('stroke', 'rgba(86, 67, 204, 0.3)')
                    .attr('stroke-width', 2);
            });
            
            // Draw the condition nodes
            conditions.forEach(condition => {
                const nodeGroup = svg.append('g')
                    .attr('transform', `translate(${condition.x}, ${condition.y})`)
                    .on('mouseover', function(event) {
                        d3.select(this).select('circle')
                            .attr('r', 40)
                            .attr('stroke-width', 3);
                            
                        tooltip
                            .style('opacity', 1)
                            .html(`<strong>${condition.name}</strong><br>${condition.description}`)
                            .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                            .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                    })
                    .on('mouseout', function() {
                        d3.select(this).select('circle')
                            .attr('r', 35)
                            .attr('stroke-width', 2);
                            
                        tooltip.style('opacity', 0);
                    });
                
                nodeGroup.append('circle')
                    .attr('r', 35)
                    .attr('fill', 'white')
                    .attr('stroke', condition.color)
                    .attr('stroke-width', 2);
                
                // Break long names into multiple lines
                const words = condition.name.split(' ');
                let lines = [];
                let currentLine = '';
                
                words.forEach(word => {
                    if (currentLine.length + word.length > 15) {
                        lines.push(currentLine);
                        currentLine = word;
                    } else {
                        currentLine += (currentLine === '' ? '' : ' ') + word;
                    }
                });
                
                if (currentLine !== '') {
                    lines.push(currentLine);
                }
                
                lines.forEach((line, i) => {
                    const yOffset = (i - (lines.length - 1) / 2) * 15;
                    
                    nodeGroup.append('text')
                        .attr('y', yOffset)
                        .attr('text-anchor', 'middle')
                        .attr('font-size', '10px')
                        .attr('font-weight', '500')
                        .text(line);
                });
            });
            
            // Draw the center circle for collective impact
            const centerGroup = svg.append('g')
                .attr('transform', `translate(${centerX}, ${centerY})`)
                .on('mouseover', function(event) {
                    d3.select(this).select('circle')
                        .attr('r', centerRadius + 5);
                        
                    tooltip
                        .style('opacity', 1)
                        .html('<strong>Collective Impact</strong><br>A framework for tackling deeply entrenched and complex social problems through a structured, collaborative approach.')
                        .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                        .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                })
                .on('mouseout', function() {
                    d3.select(this).select('circle')
                        .attr('r', centerRadius);
                        
                    tooltip.style('opacity', 0);
                });
            
            // Create gradient for center circle
            const defs = svg.append('defs');
            
            const collectiveGradient = defs.append('radialGradient')
                .attr('id', 'collectiveGradient')
                .attr('cx', '50%')
                .attr('cy', '50%')
                .attr('r', '50%');
            
            collectiveGradient.append('stop')
                .attr('offset', '0%')
                .attr('stop-color', '#ff7e5f');
                
            collectiveGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', '#feb47b');
            
            centerGroup.append('circle')
                .attr('r', centerRadius)
                .attr('fill', 'url(#collectiveGradient)');
            
            centerGroup.append('text')
                .attr('y', -10)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('font-weight', '700')
                .attr('fill', 'white')
                .text('Collective');
                
            centerGroup.append('text')
                .attr('y', 15)
                .attr('text-anchor', 'middle')
                .attr('font-size', '14px')
                .attr('font-weight', '700')
                .attr('fill', 'white')
                .text('Impact');
        }

        // Theory U Diagram
        function createTheoryUDiagram() {
            const container = document.getElementById('theory-u-diagram');
            if (!container) return;
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create SVG
            const svg = d3.select(container)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            // Add tooltip
            const tooltip = d3.select(container)
                .append('div')
                .attr('class', 'diagram-tooltip');
            
            // Define the U curve points
            const uPoints = [
                { x: width * 0.1, y: height * 0.2 },
                { x: width * 0.3, y: height * 0.5 },
                { x: width * 0.5, y: height * 0.8 },
                { x: width * 0.7, y: height * 0.5 },
                { x: width * 0.9, y: height * 0.2 }
            ];
            
            // Create path generator
            const lineGenerator = d3.line()
                .x(d => d.x)
                .y(d => d.y)
                .curve(d3.curveBasis);
            
            // Draw the U curve
            svg.append('path')
                .attr('d', lineGenerator(uPoints))
                .attr('stroke', 'var(--primary)')
                .attr('stroke-width', 3)
                .attr('fill', 'none');
            
            // Define the phases
            const phases = [
                {
                    name: 'Co-Initiating',
                    description: 'Building common intent, stopping and listening to others and to what life calls you to do.',
                    x: uPoints[0].x,
                    y: uPoints[0].y - 30
                },
                {
                    name: 'Co-Sensing',
                    description: 'Observing, observing, observing; going to the places of most potential and listening with your mind and heart wide open.',
                    x: uPoints[1].x,
                    y: uPoints[1].y - 30
                },
                {
                    name: 'Presencing',
                    description: 'Connecting to the source of inspiration and will. Going to the threshold and allowing the inner knowing to emerge.',
                    x: uPoints[2].x,
                    y: uPoints[2].y + 30
                },
                {
                    name: 'Co-Creating',
                    description: 'Prototyping the new in living examples to explore the future by doing. Creating small, rapid experiments.',
                    x: uPoints[3].x,
                    y: uPoints[3].y - 30
                },
                {
                    name: 'Co-Evolving',
                    description: 'Embodying the new in ecosystems that facilitate acting from the whole. Growing innovation ecosystems by linking with institutional bodies.',
                    x: uPoints[4].x,
                    y: uPoints[4].y - 30
                }
            ];
            
            // Add circles for each phase
            const phaseCircles = svg.selectAll('.phase-circle')
                .data(uPoints)
                .enter()
                .append('circle')
                .attr('class', 'phase-circle')
                .attr('cx', d => d.x)
                .attr('cy', d => d.y)
                .attr('r', 12)
                .attr('fill', (d, i) => {
                    if (i === 2) return 'var(--accent)'; // Presencing (bottom of U)
                    return 'var(--secondary)';
                })
                .on('mouseover', function(event, d, i) {
                    const index = uPoints.findIndex(p => p.x === d.x && p.y === d.y);
                    const phase = phases[index];
                    
                    d3.select(this)
                        .attr('r', 15)
                        .attr('fill', 'var(--accent)');
                        
                    tooltip
                        .style('opacity', 1)
                        .html(`<strong>${phase.name}</strong><br>${phase.description}`)
                        .style('left', `${event.pageX - container.getBoundingClientRect().left + 10}px`)
                        .style('top', `${event.pageY - container.getBoundingClientRect().top + 10}px`);
                })
                .on('mouseout', function(event, d, i) {
                    const index = uPoints.findIndex(p => p.x === d.x && p.y === d.y);
                    
                    d3.select(this)
                        .attr('r', 12)
                        .attr('fill', index === 2 ? 'var(--accent)' : 'var(--secondary)');
                        
                    tooltip.style('opacity', 0);
                });
            
            // Add labels for phases
            svg.selectAll('.phase-label')
                .data(phases)
                .enter()
                .append('text')
                .attr('class', 'phase-label')
                .attr('x', d => d.x)
                .attr('y', d => d.y)
                .attr('text-anchor', 'middle')
                .attr('font-size', '12px')
                .attr('font-weight', '500')
                .attr('fill', 'var(--dark)')
                .text(d => d.name);
            
            // Add a gradient line through the center of the U to represent transformation
            const uCenterGradient = svg.append('defs')
                .append('linearGradient')
                .attr('id', 'uCenterGradient')
                .attr('x1', '0%')
                .attr('y1', '0%')
                .attr('x2', '0%')
                .attr('y2', '100%');
            
            uCenterGradient.append('stop')
                .attr('offset', '0%')
                .attr('stop-color', 'rgba(42, 57, 144, 0.3)');
                
            uCenterGradient.append('stop')
                .attr('offset', '50%')
                .attr('stop-color', 'rgba(255, 126, 95, 0.7)');
                
            uCenterGradient.append('stop')
                .attr('offset', '100%')
                .attr('stop-color', 'rgba(42, 57, 144, 0.3)');
            
            svg.append('line')
                .attr('x1', width * 0.5)
                .attr('y1', height * 0.1)
                .attr('x2', width * 0.5)
                .attr('y2', height * 0.9)
                .attr('stroke', 'url(#uCenterGradient)')
                .attr('stroke-width', 2)
                .attr('stroke-dasharray', '5,5');
            
            // Add labels to describe key transitions
            svg.append('text')
                .attr('x', width * 0.3)
                .attr('y', height * 0.1)
                .attr('text-anchor', 'middle')
                .attr('font-size', '12px')
                .attr('font-style', 'italic')
                .text('Downloading: Old patterns');
            
            svg.append('text')
                .attr('x', width * 0.5)
                .attr('y', height * 0.9)
                .attr('text-anchor', 'middle')
                .attr('font-size', '12px')
                .attr('font-weight', '500')
                .attr('fill', 'var(--accent)')
                .text('Threshold of Emergence');
            
            svg.append('text')
                .attr('x', width * 0.7)
                .attr('y', height * 0.1)
                .attr('text-anchor', 'middle')
                .attr('font-size', '12px')
                .attr('font-style', 'italic')
                .text('Uploading: New patterns');
        }

        // Call all functions when DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize network visualization
            createNetworkVisualization();
            
            // Initialize interactive diagrams
            createOrchestrationDiagram();
            createMSDDiagram();
            createCollectiveImpactDiagram();
            createTheoryUDiagram();
            createPathwayDiagram();
            createContributionDiagram();
        });
        </script>
    </body>
</html>               
